!function(M){"use strict";var E;E={slippryWrapper:'<div class="sy-box" />',slideWrapper:'<div class="sy-slides-wrap" />',slideCrop:'<div class="sy-slides-crop" />',boxClass:"sy-list",elements:"li",activeClass:"sy-active",fillerClass:"sy-filler",loadingClass:"sy-loading",adaptiveHeight:!0,start:1,loop:!0,captionsSrc:"img",captions:"overlay",captionsEl:".sy-caption",initSingle:!0,responsive:!0,preload:"visible",pager:!0,pagerClass:"sy-pager",controls:!0,controlClass:"sy-controls",prevClass:"sy-prev",prevText:"Previous",nextClass:"sy-next",nextText:"Next",hideOnEnd:!0,transition:"fade",kenZoom:120,slideMargin:0,transClass:"transition",speed:800,easing:"swing",continuous:!0,useCSS:!0,auto:!0,autoDirection:"next",autoHover:!0,autoHoverDelay:100,autoDelay:500,pause:4e3,onSliderLoad:function(){return this},onSlideBefore:function(){return this},onSlideAfter:function(){return this}},M.fn.slippry=function(t){var o,l,s,i,e,a,n,r,v,d,c,p,g,u,f,h,C,y,m,S,x,W,w,k,T,b;return 0===(l=this).length||(1<l.length?l.each(function(){M(this).slippry(t)}):(o={vars:{}},c=function(){var s,t,e;for(s in t=document.createElement("div"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionEnd transitionend"})if(t.style[s]!==undefined)return e[s]},k=document.createElement("div"),b=(T=["Khtml","Ms","O","Moz","Webkit"]).length,m=function(s){if(s in k.style)return!0;for(s=s.replace(/^[a-z]/,function(s){return s.toUpperCase()});b--;)if(T[b]+s in k.style)return!0;return!1},W=function(s,t){var e,i,a,n;return e=t.split("."),i=M(s),n=a="",M.each(e,function(s,t){0<=t.indexOf("#")?a+=t.replace(/^#/,""):n+=t+" "}),a.length&&i.attr("id",a),n.length&&i.attr("class",n.trim()),i},w=function(){var s,t,e,i;e={},i={},s=100-o.settings.kenZoom,i.width=o.settings.kenZoom+"%",o.vars.active.index()%2==0?(i.left=s+"%",i.top=s+"%",e.left="0%",e.top="0%"):(i.left="0%",i.top="0%",e.left=s+"%",e.top=s+"%"),t=o.settings.pause+2*o.settings.speed,o.vars.active.css(i),o.vars.active.animate(e,{duration:t,easing:o.settings.easing,queue:!1})},v=function(){o.vars.fresh?(o.vars.slippryWrapper.removeClass(o.settings.loadingClass),o.vars.fresh=!1,o.settings.auto&&l.startAuto(),o.settings.useCSS||"kenburns"!==o.settings.transition||w(),o.settings.onSliderLoad.call(undefined,o.vars.active.index())):M("."+o.settings.fillerClass,o.vars.slideWrapper).addClass("ready")},u=function(s,t){var e;e=1/(s/t)*100+"%",M("."+o.settings.fillerClass,o.vars.slideWrapper).css({paddingTop:e}),v()},i=function(s){var t,e;M("img",s).attr("src")!==undefined?M("<img />").load(function(){t=s.width(),e=s.height(),u(t,e)}).attr("src",M("img",s).attr("src")):(t=s.width(),e=s.height(),u(t,e))},s=function(){var s,t,e;(0===M("."+o.settings.fillerClass,o.vars.slideWrapper).length&&o.vars.slideWrapper.append(M('<div class="'+o.settings.fillerClass+'" />')),!0===o.settings.adaptiveHeight)?i(M("."+o.settings.activeClass,l)):(e=t=0,M(o.vars.slides).each(function(){M(this).height()>t&&(s=M(this),t=s.height()),(e+=1)===o.vars.count&&(s===undefined&&(s=M(M(o.vars.slides)[0])),i(s))}))},g=function(){o.settings.pager&&(M("."+o.settings.pagerClass+" li",o.vars.slippryWrapper).removeClass(o.settings.activeClass),M(M("."+o.settings.pagerClass+" li",o.vars.slippryWrapper)[o.vars.active.index()]).addClass(o.settings.activeClass))},C=function(){!o.settings.loop&&o.settings.hideOnEnd&&(M("."+o.settings.prevClass,o.vars.slippryWrapper)[o.vars.first?"hide":"show"](),M("."+o.settings.nextClass,o.vars.slippryWrapper)[o.vars.last?"hide":"show"]())},a=function(){var s,t;!1!==o.settings.captions&&(s="img"!==o.settings.captionsSrc?o.vars.active.attr("title"):M("img",o.vars.active).attr("title")!==undefined?M("img",o.vars.active).attr("title"):M("img",o.vars.active).attr("alt"),t="custom"!==o.settings.captions?M(o.settings.captionsEl,o.vars.slippryWrapper):M(o.settings.captionsEl),s!==undefined&&""!==s?t.html(s).show():t.hide())},l.startAuto=function(){o.vars.timer===undefined&&o.vars.delay===undefined&&(o.vars.delay=window.setTimeout(function(){o.vars.autodelay=!1,o.vars.timer=window.setInterval(function(){o.vars.trigger="auto",l.goToSlide(o.settings.autoDirection)},o.settings.pause)},o.vars.autodelay?o.settings.autoHoverDelay:o.settings.autoDelay)),o.settings.autoHover&&o.vars.slideWrapper.unbind("mouseenter").unbind("mouseleave").bind("mouseenter",function(){o.vars.timer!==undefined?(o.vars.hoverStop=!0,l.stopAuto()):o.vars.hoverStop=!1}).bind("mouseleave",function(){o.vars.hoverStop&&(o.vars.autodelay=!0,l.startAuto())})},l.stopAuto=function(){window.clearInterval(o.vars.timer),o.vars.timer=undefined,window.clearTimeout(o.vars.delay),o.vars.delay=undefined},l.refresh=function(){o.vars.slides.removeClass(o.settings.activeClass),o.vars.active.addClass(o.settings.activeClass),o.settings.responsive?s():v(),C(),g(),a()},h=function(){l.refresh()},d=function(){o.vars.moving=!1,o.vars.active.removeClass(o.settings.transClass),o.vars.fresh||o.vars.old.removeClass("sy-ken"),o.vars.old.removeClass(o.settings.transClass),o.settings.onSlideAfter.call(undefined,o.vars.active,o.vars.old.index(),o.vars.active.index())},f=function(){var s,t,e,i,a,n,r;o.settings.onSlideBefore.call(undefined,o.vars.active,o.vars.old.index(),o.vars.active.index()),!1!==o.settings.transition?(o.vars.moving=!0,"fade"===o.settings.transition||"kenburns"===o.settings.transition?(o.vars.fresh?(o.settings.useCSS?o.vars.slides.css({transitionDuration:o.settings.speed+"ms",opacity:0}):o.vars.slides.css({opacity:0}),o.vars.active.css("opacity",1),"kenburns"===o.settings.transition&&o.settings.useCSS&&(a=o.settings.pause+2*o.settings.speed,o.vars.slides.css({animationDuration:a+"ms"}),o.vars.active.addClass("sy-ken")),d()):o.settings.useCSS?(o.vars.old.addClass(o.settings.transClass).css("opacity",0),o.vars.active.addClass(o.settings.transClass).css("opacity",1),"kenburns"===o.settings.transition&&o.vars.active.addClass("sy-ken"),M(window).off("focus").on("focus",function(){o.vars.moving&&o.vars.old.trigger(o.vars.transition)}),o.vars.old.one(o.vars.transition,function(){return d(),this})):("kenburns"===o.settings.transition&&w(),o.vars.old.addClass(o.settings.transClass).animate({opacity:0},o.settings.speed,o.settings.easing,function(){d()}),o.vars.active.addClass(o.settings.transClass).css("opacity",0).animate({opacity:1},o.settings.speed,o.settings.easing)),h()):"horizontal"!==o.settings.transition&&"vertical"!==o.settings.transition||(n="horizontal"===o.settings.transition?"left":"top",s="-"+o.vars.active.index()*(100+o.settings.slideMargin)+"%",o.vars.fresh?(l.css(n,s),d()):(r={},o.settings.continuous&&(!o.vars.jump||"controls"!==o.vars.trigger&&"auto"!==o.vars.trigger||(t=!0,i=s,o.vars.first?(e=0,o.vars.active.css(n,o.vars.count*(100+o.settings.slideMargin)+"%"),s="-"+o.vars.count*(100+o.settings.slideMargin)+"%"):(e=(o.vars.count-1)*(100+o.settings.slideMargin)+"%",o.vars.active.css(n,-(100+o.settings.slideMargin)+"%"),s=100+o.settings.slideMargin+"%"))),o.vars.active.addClass(o.settings.transClass),o.settings.useCSS?(r[n]=s,r.transitionDuration=o.settings.speed+"ms",l.addClass(o.settings.transition),l.css(r),M(window).off("focus").on("focus",function(){o.vars.moving&&l.trigger(o.vars.transition)}),l.one(o.vars.transition,function(){return l.removeClass(o.settings.transition),t&&(o.vars.active.css(n,e),r[n]=i,r.transitionDuration="0ms",l.css(r)),d(),this})):(r[n]=s,l.stop().animate(r,o.settings.speed,o.settings.easing,function(){return t&&(o.vars.active.css(n,e),l.css(n,i)),d(),this}))),h())):(h(),d())},y=function(s){o.vars.first=!1,o.vars.last=!1,"prev"===s||0===s?o.vars.first=!0:"next"!==s&&s!==o.vars.count-1||(o.vars.last=!0)},l.goToSlide=function(s){var t;o.vars.moving||(t=o.vars.active.index(),"prev"===s?0<t?s=t-1:o.settings.loop&&(s=o.vars.count-1):"next"===s?t<o.vars.count-1?s=t+1:o.settings.loop&&(s=0):s-=1,o.vars.jump=!1,"prev"===s||"next"===s||s===t&&!o.vars.fresh||(y(s),o.vars.old=o.vars.active,o.vars.active=M(o.vars.slides[s]),(0===t&&s===o.vars.count-1||t===o.vars.count-1&&0===s)&&(o.vars.jump=!0),f()))},l.goToNextSlide=function(){l.goToSlide("next")},l.goToPrevSlide=function(){l.goToSlide("prev")},n=function(){if(o.settings.pager&&1<o.vars.count){var s,t,e;for(s=o.vars.slides.length,e=M('<ul class="'+o.settings.pagerClass+'" />'),t=1;t<s+1;t+=1)e.append(M("<li />").append(M('<a href="#'+t+'">'+t+"</a>")));o.vars.slippryWrapper.append(e),M("."+o.settings.pagerClass+" a",o.vars.slippryWrapper).click(function(){return o.vars.trigger="pager",l.goToSlide(parseInt(this.hash.split("#")[1],10)),!1}),g()}},r=function(){o.settings.controls&&1<o.vars.count&&(o.vars.slideWrapper.append(M('<ul class="'+o.settings.controlClass+'" />').append('<li class="'+o.settings.prevClass+'"><a href="#prev">'+o.settings.prevText+"</a></li>").append('<li class="'+o.settings.nextClass+'"><a href="#next">'+o.settings.nextText+"</a></li>")),M("."+o.settings.controlClass+" a",o.vars.slippryWrapper).click(function(){return o.vars.trigger="controls",l.goToSlide(this.hash.split("#")[1]),!1}),C())},p=function(){!1!==o.settings.captions&&("overlay"===o.settings.captions?o.vars.slideWrapper.append(M('<div class="sy-caption-wrap" />').html(W("<div />",o.settings.captionsEl))):"below"===o.settings.captions&&o.vars.slippryWrapper.append(M('<div class="sy-caption-wrap" />').html(W("<div />",o.settings.captionsEl))))},x=function(){l.goToSlide(o.vars.active.index()+1)},S=function(s){var t,e,i,a;a="all"===o.settings.preload?s:o.vars.active,i=M("img, iframe",a),0!==(t=i.length)?(e=0,i.each(function(){M(this).one("load error",function(){++e===t&&x()}).each(function(){this.complete&&M(this).load()})})):x()},l.getCurrentSlide=function(){return o.vars.active},l.getSlideCount=function(){return o.vars.count},l.destroySlider=function(){!1===o.vars.fresh&&(l.stopAuto(),o.vars.moving=!1,o.vars.slides.each(function(){M(this).data("sy-cssBckup")!==undefined?M(this).attr("style",M(this).data("sy-cssBckup")):M(this).removeAttr("style"),M(this).data("sy-classBckup")!==undefined?M(this).attr("class",M(this).data("sy-classBckup")):M(this).removeAttr("class")}),l.data("sy-cssBckup")!==undefined?l.attr("style",l.data("sy-cssBckup")):l.removeAttr("style"),l.data("sy-classBckup")!==undefined?l.attr("class",l.data("sy-classBckup")):l.removeAttr("class"),o.vars.slippryWrapper.before(l),o.vars.slippryWrapper.remove(),o.vars.fresh=undefined)},l.reloadSlider=function(){l.destroySlider(),e()},(e=function(){var s;if(o.settings=M.extend({},E,t),o.vars.slides=M(o.settings.elements,l),o.vars.count=o.vars.slides.length,o.settings.useCSS&&(m("transition")||(o.settings.useCSS=!1),o.vars.transition=c()),l.data("sy-cssBckup",l.attr("style")),l.data("sy-classBackup",l.attr("class")),l.addClass(o.settings.boxClass).wrap(o.settings.slippryWrapper).wrap(o.settings.slideWrapper).wrap(o.settings.slideCrop),o.vars.slideWrapper=l.parent().parent(),o.vars.slippryWrapper=o.vars.slideWrapper.parent().addClass(o.settings.loadingClass),o.vars.fresh=!0,o.vars.slides.each(function(){M(this).addClass("sy-slide "+o.settings.transition),o.settings.useCSS&&M(this).addClass("useCSS"),"horizontal"===o.settings.transition?M(this).css("left",M(this).index()*(100+o.settings.slideMargin)+"%"):"vertical"===o.settings.transition&&M(this).css("top",M(this).index()*(100+o.settings.slideMargin)+"%")}),!(1<o.vars.count||o.settings.initSingle))return this;-1===M("."+o.settings.activeClass,l).index()?(s="random"===o.settings.start?Math.round(Math.random()*(o.vars.count-1)):0<o.settings.start&&o.settings.start<=o.vars.count?o.settings.start-1:0,o.vars.active=M(o.vars.slides[s]).addClass(o.settings.activeClass)):o.vars.active=M("."+o.settings.activeClass,l),r(),n(),p(),S(o.vars.slides)})())),this}}(jQuery);